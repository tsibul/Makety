<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{% static 'maket/style.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

    <!-- Bootstrap core CSS -->
    <link href="{% static 'maket/bootstrap.min.css' %}" rel="stylesheet" crossorigin="anonymous">
    <title>Макет {{ord_imp.order_id}} от {{ord_imp.order_date}} &nbsp {{ord_imp.customer.name}}</title>
</head>
<body>
   <span class="step-links">
        &nbsp;
        <button onclick="window.print()" class="btn btn-outline-primary d-print-none"><i class="bi bi-printer-fill" style="currentColor"></i> Печать</button>
        <button onclick="window.close();return false;" class="btn btn-outline-secondary d-print-none">Назад</button>
    </span><!-- Buttons -->


<div class="row">

<div class="d-flex border border-3 border-primary p-2 m-2" style="width:190mm;">
<div class="col">
    <div class="row">
        <div class="col m-1 fw-bold  lh-1">Макет к заказу {{ord_imp.order_id}}  от {{ord_imp.order_date|date:'d.m.Y'}}</div>
    </div>
<table class="table-sm mb-0">
    <tbody>
        <tr class="lh-1">
            <td class="fw-bold">Поставщик </td>
            <td >{{ord_imp.supplier}}</td>
        </tr>
        <tr class="lh-1">
            <td class="fw-bold">Покупатель </td>
            <td>{{ord_imp.customer_name}}</td>
        </tr>
    </tbody>

<div class=" row d-print-none">
    <div class="col">
    Пленка {{ord_imp.film.film_id}} от {{ord_imp.film.date}}
    {% if ord_imp.film_status %}
    <input class="form-check-input" type="checkbox" checked disabled name="filmstatus" id="filmstatus">
    <label for="filmstatus">без ошибок</label>
    {% else %}
    <input class="form-check-input" type="checkbox" disabled name="filmstatus" id="filmstatus_">
    <label for="filmstatus_"> ошибки </label>
    {% endif %}
    </div>
</div>
</table>
</div>
</div>

<div class="d-flex flex-row border p-2 m-2" style="width:140mm;">
<div class="col align-end d-print-none">
    {% for prd in product_range %}
    <div class="row align-end">
    <div class="col" style="font-size:60%" >{{prd.0}}</div>
    <div class="col" style="font-size:60%" >{{prd.3}}/{{prd.1}} шт.</div>
    <div class="col" class="form-check" style="font-size:60%" >
        <input  class="form-check-input" type="checkbox" name="chck_{{prd.2}}" id="chck_{{prd.2}}" checked>
        <label class="form-check-label" for="chck_{{prd.2}}"> в макет </label>
    </div>
    </div>
    {% endfor %}
</div>
    <div class="col-2">
    <a href="javascript:split_maket({{product_range}});"><button class="btn-sm btn-outline-primary">Выбрать</button> </a>
    </div>
</div><!-- chose items for show -->
</div>
<div class="d-flex align-content-start flex-wrap">

<div class="d-flex p-1 m-1" style="width:192mm;">
<table class="table-sm border border-2 border-success" style="width:190mm;">
    <thead>
    <tr class="text-center lh-1">
        <th scope="col" class="col" style="max-width:4mm; font-size:60%;"> # </th>
        <th scope="col" class="col-1" style="font-size:60%;"> Арт. </th>
        <th scope="col" class="col-3" style="font-size:60%;"> Наименование </th>
        <th scope="col" class="col-2" style="font-size:60%;"> Нанесение </th>
        <th scope="col" class="col-1" style="font-size:60%;"> Кол-во </th>
        <th scope="col" class="col-1" style="font-size:60%;"> Место  </th>
        <th colspan="4" scope="col" class="col-5" style="font-size:60%;">Тип / Цветов / 2-й проход / Положение </th>
<!--          <th scope="col" class="col-2" style="font-size:60%;"> Тип </th>
        <th colspan="2"  style="font-size:60%;"> Цветов / 2-й проход </th>
        <th scope="col" class="col-1" style="font-size:60%;"> Положение </th> <--->

    </tr>
    </thead>
    <tbody>
{% for item in item_import %}
    {% if '34' in item.item_group or '350' in item.item_group %}
    <tr class="lh-1" id="prt_34_">
    {% elif '37' in item.item_group %}
    <tr class="lh-1" id="prt_37_">
    {% elif '711' in item.item_group or '712' in item.item_group or '702' in item.item_group %}
    <tr class="lh-1" id="prt_701_">
    {% else %}
    <tr class="lh-1" id="prt_{{item.item_group}}_">
    {% endif %}
        <td scope="row" class="col text-center" style="max-width:4mm; font-size:60%;"> {{item.print_id}} </td>
        <td scope="col" class="col-1 text-center" style="font-size:60%;"> {{item.code}} </td>
        <td scope="col" class="col-3" style="font-size:60%;"> {{item.name}}</td>
        <td scope="col" class="col-2 text-center" style="font-size:60%;"> {{item.print_name}}</td>
        <td scope="col" class="col-1 text-center" style="font-size:60%;"> {{item.quantity}}</td>
    <td colspan="4">
    <table class="table-sm mb-0">

    {% for prt in print_import %}
    {% if prt.print_id == item.print_id %}
    <tr class="lh-1 align-top">
<!--        <td scope="col" colspan="4" style="font-size:60%;"> </td> <--->
        <td scope="col" class="col-4 text-start" style="min-width:20mm; font-size:60%;"> {{prt.place}} </td>
        <td scope="col" class="col-2 text-center" style="font-size:60%;"> {{prt.type}}</td>
        <td scope="col" class="col-1 text-center" style="min-width:5mm; font-size:60%;"> {{prt.colors}} /</td>
         <td scope="col" class="col-1 text-center" style="font-size:60%;">
        {% if prt.second_pass %}
            <input class="form-check-input" type="checkbox" checked disabled>
        {% else %}
            <input class="form-check-input" type="checkbox" disabled>
        {% endif %}
        </td>
        <td scope="col" class="text-center" style="font-size:60%;"> {{prt.position}} </td>
    </tr>
    {% else %}
    {% endif %}
    {% endfor %}
    </table>
    </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
</div>
{% for product in product_range %}


{% if 'prt_34' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg34.html' %}
</div><!--340/350--->
{% endif %}

{% if 'prt_3A6' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg3A6.html' %}
</div><!--Block Note A6--->
{% endif %}

{% if 'prt_3A5' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg3A5.html' %}
</div><!--Block Note A5--->
{% endif %}


{% if 'prt_3D5' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg3D5.html' %}
</div><!--Block Note D5--->
{% endif %}

{% if 'prt_701' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg701.html' %}
</div><!--701, 702, 710, 711--->
{% endif %}

{% if 'prt_310' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg310.html' %}
</div><!--Clip 65 mm--->
{% endif %}

{% if 'prt_311' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg311.html' %}
</div><!--Clip 105 mm--->
{% endif %}


{% if 'prt_312' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg312.html' %}
</div><!--Clip 140 mm--->
{% endif %}

{% if 'prt_37' == product.2 %}
<div class="d-flex">
    {% include 'maket/svg/svg37.html' %}
</div><!--PhoneCase--->
{% endif %}

{% if 'prt_101' == product.2 %}
<div class="d-flex">
<div class="col p-1 m-1" id="prt_101">
    <div class="m-2"><img src="{% static 'maket/img/Ruler.svg' %}" /></div>
{% for prt in prt_101 %}
    <div class="row lh-1 p-1 m-1">
    <div class="col p-1 m-1" style="max-width:8mm;">{{prt.0.print_id}}</div>
    <div class="col p-1 m-1">

    </div>
    </div>
{% endfor %}
</div>
</div><!--Automat--->
{% endif %}

{% if 'prt_102' == product.2 %}
<div class="d-flex">
<div class="col p-1 m-1" id="prt_102">
    <div class="m-2"><img src="{% static 'maket/img/Ruler.svg' %}" /></div>
{% for prt in prt_102 %}
    <div class="row lh-1 p-1 m-1">
    <div class="col p-1 m-1" style="max-width:8mm;">{{prt.0.print_id}}</div>
    <div class="col p-1 m-1">

    </div>
    </div>
{% endfor %}
</div>
</div><!--Arrow--->
{% endif %}

{% if 'prt_105' == product.2 %}
<div class="d-flex">
<div class="col p-1 m-1" id="prt_105">
    <div class="m-2"><img src="{% static 'maket/img/Ruler.svg' %}" /></div>
{% for prt in prt_105 %}
    <div class="row lh-1 p-1 m-1">
    <div class="col p-1 m-1" style="max-width:8mm;">{{prt.0.print_id}}</div>
    <div class="col p-1 m-1">

    </div>
    </div>
{% endfor %}
</div>
</div><!--Bolid--->
{% endif %}

{% if 'prt_115' == product.2 %}
<div class="d-flex">
<div class="col p-1 m-1" id="prt_115">
    <div class="m-2"><img src="{% static 'maket/img/Ruler.svg' %}" /></div>
{% for prt in prt_115 %}
    <div class="row lh-1 p-1 m-1">
    <div class="col p-1 m-1" style="max-width:8mm;">{{prt.0.print_id}}</div>
    <div class="col p-1 m-1">

    </div>
    </div>
{% endfor %}
</div>
</div><!--Prima--->
{% endif %}

{% if 'prt_120' == product.2 %}
<div class="d-flex">
<div class="col p-1 m-1" id="prt_120">
    <div class="m-2"><img src="{% static 'maket/img/Ruler.svg' %}" /></div>
{% for prt in prt_120 %}
    <div class="row lh-1 p-1 m-1">
    <div class="col p-1 m-1" style="max-width:8mm;">{{prt.0.print_id}}</div>
    <div class="col p-1 m-1">

    </div>
    </div>
{% endfor %}
</div>
</div><!--Spot--->
{% endif %}

{% if 'prt_121' == product.2 %}
<div class="d-flex">
<div class="col p-1 m-1" id="prt_121">
    <div class="m-2"><img src="{% static 'maket/img/Ruler.svg' %}" /></div>
{% for prt in prt_121 %}
    <div class="row lh-1 p-1 m-1">
    <div class="col p-1 m-1" style="max-width:8mm;">{{prt.0.print_id}}</div>
    <div class="col p-1 m-1">

    </div>
    </div>
{% endfor %}
</div>
</div><!--Spot Lux--->
{% endif %}


{% endfor %}
</div>

<script src="{% static 'maket/maket.js' %}"></script>
<script src="{% static 'maket/bootstrap.bundle.min.js' %}" crossorigin="anonymous"></script>

</body>
</html>